<%= link_to 'New Movie', new_movie_path, class: 'button' %>
<ul id="movies">
  <% @movies.each do |movie| %>
    <li>
      <article class="movie">
        <header>
          <%= image_for(movie) %>
          <h2><%= link_to movie.title, movie %> 
             (<%= movie.released_on.year %>)
              <%= link_to 'Edit', edit_movie_path(movie), class: 'button' %>
              <%= link_to 'Delete', movie_path(movie), method: :delete, data: { confirm: 'Are you sure you want to delete ' + movie.title + '?' }, class: 'button' %>
          </h2>
          <h3><%= movie.cast %></h3>
        </header>
        <p>
          <%= truncate(movie.description, length: 150, separator: ' ') %>
        </p>
        <table>
          <tr>
            <th>Release Date: </th>
            <td><%= movie.released_on %></td>
          </tr>
          <tr>
            <th>Rating</th>
            <td><%= movie.rating %></td>
          </tr>
          <tr>
            <th>Duration</th>
            <td><%= movie.duration %></td>
          </tr>
          <tr>
            <th>Total Gross</th>
            <td><%= format_total_gross(movie) %></td>
          </tr>
        </table>
        <footer>
        </footer>
      </article>
    </li>
  <% end %>
</ul>

<%= link_to 'New Movie', new_movie_path, class: 'button' %>
